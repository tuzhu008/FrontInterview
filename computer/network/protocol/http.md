# Http

## Http  状态码

| 状态码 | 类别 | 描述 |
| :--- | :--- | :--- |
| 1xx | Informational（信息状态码） | 接受请求正在处理 |
| 2xx | Success（成功状态码） | 请求正常处理完毕 |
| 3xx | Redirection（重定向状态码） | 需要附加操作已完成请求 |
| 4xx | Client Error（客户端错误状态码） | 服务器无法处理请求 |
| 5xx | Server Error（服务器错误状态码） | 服务器处理请求出错 |

**常用状态码：**

| 状态码 | 状态码英文名称 | 描述 |
| :--- | :--- | :--- |
| 100 | Continue | 继续，一般在发送post请求时，已发送了http header之后服务端将返回此信息，表示确认，之后发送具体参数信息 |
| 200 | OK | 请求成功。一般用于GET与POST请求 |
| 201 | Created | 请求成功并且服务器创建了新的资源 |
| 202 | Accepted | 服务器已接受请求，但尚未处理 |
| 204 | No Content | 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档 |
| 206 | Partial Content | 是对资源某一部分的请求，服务器成功处理了部分GET请求，响应报文中包含由Content-Range指定范围的实体内容。 |
| 301 | Moved Permanently | 永久性重定向。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替 |
| 302 | Found | 临时性重定向。与301类似。但资源只是临时被移动。客户端应继续使用原有URI |
| 303 | See Other | 查看其它地址。与302类似。使用GET请求查看 |
| 304 | Not Modified | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源 |
| 307 | Temporary Redirect | 临时重定向。与302类似。使用GET请求重定向，会按照浏览器标准，不会从POST变成GET。 |
| 400 | Bad Request | 客户端请求报文中存在语法错误，服务器无法理解。浏览器会像200 OK一样对待该状态吗 |
| 401 | Unauthorized | 请求要求用户的身份认证，通过HTTP认证（BASIC认证，DIGEST认证）的认证信息，若之前已进行过一次请求，则表示用户认证失败 |
| 402 | Payment Required | 保留，将来使用 |
| 403 | Forbidden | 服务器理解请求客户端的请求，但是拒绝执行此请求 |
| 404 | Not Found | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面。也可以在服务器拒绝请求且不想说明理由时使用 |
| 500 | Internal Server Error | 服务器内部错误，无法完成请求，也可能是web应用存在bug或某些临时故障 |
| 501 | Not Implemented | 服务器不支持请求的功能，无法完成请求 |
| 503 | Service Unavailable | 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中 |



[https://www.runoob.com/http/http-status-codes.html](https://www.runoob.com/http/http-status-codes.html)

## Http协议由什么组成?

请求报文包括三部分:

* 请求行:包含请求方法,URI,HTTP版本协议

* 请求首部字段

* 请求内容实体

响应报文包含三部分:

* 状态行:包含HTTP版本,状态码,状态码原因短语

* 响应首部字段

* 响应内容实体

[https://www.jianshu.com/p/9fa58c432e08](https://www.jianshu.com/p/9fa58c432e08)

## http2 和 http 有什么区别？

## cache-control

## Http 方法

| 方法 | 描述 |
| :--- | :--- |
| GET | 用于请求访问已经被 URI 识别的资源 |
| POST | 用于传输信息给服务器 |
| PUT | 传输文件 |
| HEAD | 获得报文首部，与GET方法类似，只是不返回报文主体，一般用于验证URI是否有效。 |
| DELETE | 删除文件，与PUT方法相反，删除对应URI位置的文件 |
| OPTIONS | 查询相应URI支持的HTTP方法 |

TODO:

## Http2

## http 常用请求头

## 强缓存和协商缓存？

缓存分为两种：强缓存和协商缓存，根据响应的 header 内容来决定

| 类型 | 获取资源形式 | 状态码 | 发送请求到服务器 |
| :--- | :--- | :--- | :--- |
| 强缓存 | 从缓存获取 | 200（from cache\) | 否，直接从缓存读取 |
| 协商缓存 | 从缓存获取 | 304（not modified\) | 是，通过服务器来告知缓存是否可用 |

强缓存相关字段有：expired, cache-control。如果 cache-control 与 expired 同时存在的话，cache-control 优先级高于 expired

协商缓存相关字段有：Last-Modified/if-Modified-since, Etag/if-None-Match

## 301 和 302 的区别?

301 Moved Permanently 被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。

302 Found 请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在 Cache-Control 或 Expired 中指定的情况下，这个响应才是可缓存的。字面上区别就是 301 是永久重定向，而 302 是临时重定向。

301 比较常用的场景是使用域名跳转。 302 用来做临时跳转，比如未登录的用户访问用户中心重定向到登录页。

## 304 和 200

200：请求已成功，请求所希望的响应头或数据体将随此响应返回。即返回的数据为全量的数据，如果文件不通过过 GZip 压缩的话，文件是多大，则需要多大的传输量。

304：如果客户端发送一个带条件的 GET 的请求且该请求已被允许，而文档的内容（自上次访问以来或根据请求条件）并没有改变，则服务器应当返回这个状态码。即客户端和服务器端只需要传输少量的数据来做文件的校验，如果文件没有修改过，则不需要返回全量的数据。

## 首部

a、通用首部字段（请求报文与响应报文都会使用的首部字段）

Date：创建报文时间  
Connection：连接的管理  
Cache-Control：缓存的控制  
Transfer-Encoding：报文主体的传输编码方式

b、请求首部字段（请求报文会使用的首部字段）  
Host：请求资源所在服务器  
Accept：可处理的媒体类型  
Accept-Charset：可接收的字符集  
Accept-Encoding：可接受的内容编码  
Accept-Language：可接受的自然语言

c、响应首部字段（响应报文会使用的首部字段）  
Accept-Ranges：可接受的字节范围  
Location：令客户端重新定向到的URI  
Server：HTTP服务器的安装信息

d、实体首部字段（请求报文与响应报文的的实体部分使用的首部字段）  
Allow：资源可支持的HTTP方法  
Content-Type：实体主类的类型  
Content-Encoding：实体主体适用的编码方式  
Content-Language：实体主体的自然语言  
Content-Length：实体主体的的字节数  
Content-Range：实体主体的位置范围，一般用于发出部分请求时使用

与HTTP 1.1相比，主要区别包括  
HTTP/2采用二进制格式而非文本格式  
HTTP/2是完全多路复用的，而非有序并阻塞的——只需一个连接即可实现并行  
使用报头压缩，HTTP/2降低了开销  
HTTP/2让服务器可以将响应主动“推送”到客户端缓存中

