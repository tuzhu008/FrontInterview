# 包管理

## 什么是软链接

指的是：npm link

我们平时可以使用npm link进行软链接，进行脚本或者依赖调试。

软链接会额外创建一个inode指向源文件的inode，类似快捷方式的感觉。而硬链接则是指向源文件的inode。

## npm yarn pnpm 有什么区别

npm3+之前，node_modules 中的每个依赖项都有自己的node_modules文件夹，在package.json中指定了所有的依赖项。这样的结构是干净、可预测的，但是这样会创建过深的依赖树以及会同一份依赖可能会被多次复制粘贴散落在各处。
在 npm3+和 yarn 中，后续采用了扁平安装。所谓的扁平安装为：依赖会被提升到顶层，如果有不同版本的同一依赖被安装，首个依赖会被提升，但是后续依赖还是像之前安装在各自的依赖当中。
另外yarn 还支持并行下载，会更快的下载依赖。也支持 workspace，让项目支持 monoreop。
但是 npm3+ 以及 yarn 都会暴露出一个问题：
由于只有首个依赖会被提升，那么还是有可能会重复下载依赖。
pnpm 采用目录树结构加一个.pnpm文件夹进行管理依赖，.pnpm文件夹里已平铺形式保存着所有的包，然后利用Store + Links 进行文件资源进行关联。pnpm 会利用 store 储存资源在磁盘上的存储位置，再通过复制包或者硬链接、软链接设置过去。